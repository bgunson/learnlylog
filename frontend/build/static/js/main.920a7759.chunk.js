(this["webpackJsonpweb-js"]=this["webpackJsonpweb-js"]||[]).push([[0],{40:function(e){e.exports=JSON.parse('{"a":"learnlylog-qrajw","b":"https://realm.mongodb.com/groups/62432cf98c94b80563a0e265/apps/624a368709c4a1d9eb7d6661","c":"https://realm.mongodb.com","d":"mongodb-atlas"}')},489:function(e,t,n){},501:function(e,t,n){},527:function(e,t,n){},528:function(e,t,n){},529:function(e,t,n){},530:function(e,t,n){},899:function(e,t,n){},900:function(e,t,n){},901:function(e,t,n){},902:function(e,t,n){},903:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(19),i=n.n(c),s=(n(489),n(12)),o=n.n(s),l=n(22),u=n(959),d=n(960),j=n(320),b=n(961),m=n(962),h=n(963),x=n(964),O=n(20),f=n(18),p=n(53),g=n(935),v=n(937),y=n(67),w=n(965),S=n(939),I=n(940),C=n(464),k=n.n(C),N=n(465),E=n.n(N),A=n(40),_=n(1);function U(e){return new p.a({id:e,baseUrl:A.c})}var L=a.a.createContext(null);function D(e){var t=e.appId,n=e.children,r=a.a.useState(U(t)),c=Object(f.a)(r,2),i=c[0],s=c[1];a.a.useEffect((function(){s(U(t))}),[t]);var u=a.a.useState(i.currentUser),d=Object(f.a)(u,2),j=d[0],b=d[1],m=a.a.useCallback(function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.logIn(t);case 2:b(i.currentUser);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),h=a.a.useCallback(Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===j||void 0===j?void 0:j.logOut();case 2:return e.next=4,i.removeUser(j);case 4:b(i.currentUser);case 5:case"end":return e.stop()}}),e)}))),[i,j]),x=a.a.useMemo((function(){return Object(O.a)(Object(O.a)({},i),{},{currentUser:j,logIn:m,logOut:h})}),[i,j,m,h]);return Object(_.jsx)(L.Provider,{value:x,children:n})}function z(){var e=a.a.useContext(L);if(!e)throw new Error("No Realm App found. Make sure to call useRealmApp() inside of a <RealmAppProvider />.");return e}var B=n(459),M=n.n(B),T=n(936),R=n(30);function q(){return Object(_.jsx)(y.a,{className:"app-bar-title",component:"h1",variant:"h5",children:Object(_.jsx)(R.b,{style:{textDecoration:"none",color:"unset"},to:"/",children:"LearnlyLog"})})}function P(e){var t=e.children;return Object(_.jsx)(g.a,{style:{textAlign:"center",padding:"14px 0",marginTop:"auto"},children:t})}function Q(){return Object(_.jsxs)(P,{children:[Object(_.jsxs)("span",{children:["Built with the MongoDB Realm ","MQL"," Template"]})," |"," ",Object(_.jsx)(T.a,{target:"_blank",href:"https://docs.mongodb.com/realm",children:"Docs"})]})}!function(e,t){var n=new URL(e).pathname,r=M.a.join(n,t);new URL(r,e).href}(A.b,"/graphql/explore");var W=n(37),F=function(e){return!e};var H=n(966);function J(e){return Object(_.jsx)(H.a,Object(O.a)({elevation:6,variant:"filled"},e))}function Y(e){var t=e.isOpen,n=e.message,r=e.onClose,a=void 0===r?function(){}:r;return t?Object(_.jsx)(J,{onClose:a,severity:"error",children:n}):null}var G=n(27);function V(){var e,t,n=z(),r=Object(G.f)(),c=a.a.useState(!1),i=Object(f.a)(c,2),s=i[0],u=i[1],d={email:null,password:null,other:null},b=a.a.useState(d),m=Object(f.a)(b,2),h=m[0],x=m[1],C=function(){return x(d)},N=function(e){var t=e.error,n=e.clearError,r=e.hideAfterMs,c=a.a.useState(!1),i=Object(f.a)(c,2),s=i[0],o=i[1],l=a.a.useCallback((function(){n(),o(!1)}),[n]);return a.a.useEffect((function(){if(t){if(o(!0),r){var e=setTimeout((function(){l()}),r);return function(){clearTimeout(e)}}}else o(!1)}),[t,l,r]),function(){return Object(_.jsx)(Y,{isOpen:s,message:t,onClose:function(){l()}})}}({error:h.other,clearError:function(){x((function(e){return Object(O.a)(Object(O.a)({},e),{},{other:null})}))}}),A=a.a.useState(!1),U=Object(f.a)(A,2),L=U[0],D=U[1],B=function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.email,c=t.password,C(),e.prev=2,!s){e.next=7;break}return e.next=6,n.emailPasswordAuth.registerUser(a,c);case 6:r("/interests");case 7:return e.next=9,n.logIn(p.c.emailPassword(a,c));case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),X(e.t0,x);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(g.a,{maxWidth:"sm",className:"main-container",children:[Object(_.jsx)(v.a,{className:"auth-card",variant:"outlined",children:Object(_.jsxs)("form",{className:"auth-form",onSubmit:function(e){e.preventDefault();var t=new FormData(e.target),n=Object.fromEntries(t.entries()),r=n.email,a=n.password;B({email:r,password:a})},children:[Object(_.jsx)(y.a,{component:"h2",variant:"h4",gutterBottom:!0,children:s?"Sign Up":"Log In"}),Object(_.jsx)(N,{}),Object(_.jsx)(w.a,{id:"input-email",name:"email",label:"Email Address",variant:"outlined",error:Boolean(h.email),helperText:null!==(e=h.email)&&void 0!==e?e:""}),Object(_.jsx)(w.a,{id:"input-password",type:L?"text":"password",name:"password",label:"Password",variant:"outlined",error:Boolean(h.password),helperText:null!==(t=h.password)&&void 0!==t?t:"",InputProps:{endAdornment:Object(_.jsx)(S.a,{position:"end",children:Object(_.jsx)(j.a,{"aria-label":"toggle password visibility",onClick:function(){return D(F)},onMouseDown:function(e){e.preventDefault()},children:L?Object(_.jsx)(k.a,{}):Object(_.jsx)(E.a,{})})})}}),Object(_.jsx)(I.a,{type:"submit",variant:"contained",color:"primary",children:s?"Create Account":"Log In"}),Object(_.jsx)("button",{type:"button",className:"link-button",onClick:function(){return C(),void u(F)},children:s?"Already have an account? Log In":"Sign up for an account"})]})}),Object(_.jsx)(Q,{})]})}function X(e,t){var n=function(){t((function(e){return Object(O.a)(Object(O.a)({},e),{},{other:"Something went wrong. Try again in a little bit."})})),console.warn("Something went wrong with a Realm login or signup request. See the following error for details."),console.error(e)};if(e instanceof p.d){var r=e.error,a=e.statusCode;switch(r||a){case"invalid username":t((function(e){return Object(O.a)(Object(O.a)({},e),{},{email:"Invalid email address."})}));break;case"invalid username/password":case"invalid password":case 401:t((function(e){return Object(O.a)(Object(O.a)({},e),{},{password:"Incorrect password."})}));break;case"name already in use":case 409:t((function(e){return Object(O.a)(Object(O.a)({},e),{},{email:"Email is already registered."})}));break;case"password must be between 6 and 128 characters":case 400:t((function(e){return Object(O.a)(Object(O.a)({},e),{},{password:"Password must be between 6 and 128 characters."})}));break;default:n()}}else n()}n(138);var $=n(945);n(938),n(466),n(214);function K(e){var t=e.cluster,n=void 0===t?"mongodb-atlas":t,r=e.db,c=e.collection,i=z();return a.a.useMemo((function(){return i.currentUser.mongoClient(n).db(r).collection(c)}),[i.currentUser,n,r,c])}var Z=n(941);n(942),n(968),n(943),n(944),n(164);var ee=n(11);Object(ee.a)({secondaryAction:{paddingRight:"120px"}})(Z.a);var te=n(474),ne=n(947),re=n(231),ae=n(946),ce=n(230),ie=n(229),se={green:Object(O.a)(Object(O.a)({},re.a),{},{500:"#09804C",A400:"#B9EACD"}),purple:Object(O.a)(Object(O.a)({},ae.a),{},{500:"#6200EE",A400:"#9795F9"}),orange:ce.a,red:ie.a},oe={palette:{primary:se.purple,secondary:se.purple}},le=Object(te.a)(oe);function ue(e){var t=e.children;return Object(_.jsx)(ne.a,{theme:le,children:t})}var de=n(950),je=n(952),be=n(949),me=n(969),he=n(951),xe=n(224),Oe=n.n(xe);n(501),me.a;function fe(){var e=z().currentUser,t=JSON.stringify(e),n=JSON.parse(t);return Object(_.jsx)("div",{style:{padding:10},children:Object(_.jsxs)(be.a,{container:!0,spacing:5,children:[Object(_.jsx)(be.a,{item:!0,xs:6,md:6,lg:6,children:Object(_.jsx)(v.a,{elevation:3,children:Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Email"}),Object(_.jsx)(y.a,{variant:"h5",component:"div",children:n.profile.data.email})]})})}),Object(_.jsx)(be.a,{item:!0,xs:6,md:6,lg:6,children:Object(_.jsxs)(v.a,{elevation:1,children:[Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Password"}),Object(_.jsx)(y.a,{variant:"h5",component:"div",children:"******"})]}),Object(_.jsx)(he.a,{})]})}),Object(_.jsx)(be.a,{item:!0,xs:6,md:6,lg:6,children:Object(_.jsxs)(v.a,{elevation:1,children:[Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Courses"}),Object(_.jsx)(y.a,{variant:"h5",component:"div",children:"1.2%"}),Object(_.jsx)(je.a,{component:"img",height:"150",image:"https://www.betterevaluation.org/sites/default/files/styles/feature_image/public/barchart.gif?itok=BiPcDxYw",alt:"Progress"})]}),Object(_.jsx)(he.a,{})]})}),Object(_.jsx)(be.a,{item:!0,xs:6,md:6,lg:6,children:Object(_.jsxs)(v.a,{elevation:1,children:[Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Badges"}),Object(_.jsx)(j.a,{"aria-label":"share",children:Object(_.jsx)(Oe.a,{})}),Object(_.jsx)(je.a,{component:"img",height:"100",image:"https://static.vecteezy.com/system/resources/previews/002/299/635/non_2x/set-of-company-training-badge-certificates-to-determine-based-on-criteria-illustration-certified-logo-geometric-design-vector.jpg",alt:"Badges"})]}),Object(_.jsx)(he.a,{})]})}),Object(_.jsx)(be.a,{item:!0,xs:6,md:6,lg:6,children:Object(_.jsxs)(v.a,{elevation:3,children:[Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Leaderboard"}),Object(_.jsx)(y.a,{variant:"h5",component:"div",children:"#5-30000 pts"})]}),Object(_.jsx)(he.a,{})]})}),Object(_.jsx)(be.a,{item:!0,xs:6,md:6,lg:6,children:Object(_.jsxs)(v.a,{elevation:1,children:[Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:"Progress"}),Object(_.jsx)(y.a,{variant:"h5",component:"div",children:"+3 Modules"}),Object(_.jsx)(y.a,{sx:{mb:.5},color:"text.primary",children:"+5% last 30 days"})]}),Object(_.jsx)(he.a,{})]})})]})})}var pe=n(953),ge=n(468),ve=n.n(ge),ye=n(467),we=n.n(ye);function Se(){z();var e=a.a.useState([]),t=Object(f.a)(e,2),n=t[0],r=t[1],c=a.a.useState(!0),i=Object(f.a)(c,2),s=i[0],o=i[1],l=K({cluster:A.d,db:"LearnlyLog",collection:"Course"});a.a.useEffect((function(){l.find({}).then((function(e){r(e),o(!1)}))}),[l]);return{loading:s,courses:n,getCourse:function(e){return n.find((function(t){return String(t._id)===String(e)}))}}}var Ie=function(e){return e.courses.map((function(e){return Object(_.jsx)(R.b,{to:"/course-modules/".concat(e._id),className:"cards",children:Object(_.jsx)(v.a,{style:{height:250,margin:5},sx:{maxWidth:250},children:Object(_.jsxs)(pe.a,{children:[Object(_.jsx)(je.a,{component:"img",height:"100",image:e.image,alt:"image-list"}),Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"div",children:e.name}),Object(_.jsx)(y.a,{color:"text.secondary",children:e.description})]}),Object(_.jsx)(j.a,{"aria-label":"add to favorites",children:Object(_.jsx)(ve.a,{})}),Object(_.jsx)(j.a,{"aria-label":"share",children:Object(_.jsx)(Oe.a,{})})]})})})}))};function Ce(){var e=Se(),t=e.courses,n=(e.loading,Object(r.useState)([])),a=Object(f.a)(n,2),c=a[0],i=a[1];Object(r.useEffect)((function(){i(t)}),[t]);return Object(_.jsxs)(g.a,{className:"main-container",children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("h1",{children:"All Courses"}),Object(_.jsx)(we.a,{onChange:function(e){return function(e){if(e.length){var n=e.toLowerCase().trim(),r=t.filter((function(e){return e.name.toLowerCase().includes(n)}));i(r)}else i(t)}(e)},onCancelSearch:function(){return i(t)}})]}),Object(_.jsx)("div",{children:Object(_.jsx)(Ie,{courses:c})})]})}var ke=n(473),Ne=n(970),Ee=(n(527),null);function Ae(){var e=z().currentUser,t=Object(r.useState)([]),n=Object(f.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)(""),s=Object(f.a)(i,2),o=s[0],l=s[1];Object(r.useEffect)((function(){return null==Ee&&(Ee=Object(ke.a)(window.location.origin,{transports:["websocket"]})),Ee.emit("join chat",e),Ee.on("chat message",(function(e){var t=a;t.push(e),c(Object(W.a)(t));var n=document.getElementById("chat-feed");n.scrollTop=n.scrollHeight})),function(){Ee.emit("leave chat",e),Ee.off("chat message")}}),[]);return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{className:"messages",id:"chat-feed",children:a.map((function(t){return t.user.id==e.id?Object(_.jsxs)("div",{className:"chat-message message-right",children:[Object(_.jsx)(Ne.a,{className:"chat-chip",color:"primary",label:t.content}),Object(_.jsx)("br",{}),Object(_.jsx)("small",{children:new Date(t.time).toLocaleTimeString()})]}):null==t.user.id&&"SERVER"==t.user.name?Object(_.jsx)("div",{className:"chat-message",style:{textAlign:"center"},children:t.content}):Object(_.jsxs)("div",{className:"chat-message",children:[Object(_.jsx)("small",{children:t.user.name.split("@")[0]}),Object(_.jsx)("br",{}),Object(_.jsx)(Ne.a,{color:"secondary",label:t.content}),Object(_.jsx)("br",{}),Object(_.jsx)("small",{children:new Date(t.time).toLocaleTimeString()})]})}))}),Object(_.jsxs)("form",{className:"chat-form",action:"",onSubmit:function(t){t.preventDefault(),o&&(Ee.emit("chat message",{content:o,user:e}),l(""))},children:[Object(_.jsx)("input",{className:"chat-input",autocomplete:"off",placeholder:"Type to chat with others...",value:o,onChange:function(e){return l(e.target.value)}}),Object(_.jsx)("button",{children:"Send"})]})]})}function _e(){z();var e=a.a.useState([]),t=Object(f.a)(e,2),n=t[0],r=t[1],c=a.a.useState(!0),i=Object(f.a)(c,2),s=i[0],o=i[1],l=K({cluster:A.d,db:"LearnlyLog",collection:"Module"});a.a.useEffect((function(){l.find({}).then((function(e){r(e),o(!1)}))}),[l]);return{loading:s,modules:n,getModule:function(e){return n.find((function(t){return String(t._id)===String(e)}))}}}var Ue=n(955),Le=n(971),De=n(956);n(528);function ze(){var e=z(),t=a.a.useState([]),n=Object(f.a)(t,2),r=n[0],c=n[1],i=a.a.useState(!0),s=Object(f.a)(i,2),u=s[0],d=s[1],j=K({cluster:A.d,db:"LearnlyLog",collection:"CourseEnrollment"});a.a.useEffect((function(){j.find({}).then((function(e){c(e),d(!1)}))}),[j]);return{loading:u,enrollments:r,dropCourse:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.deleteOne({_partition:e.currentUser.id,courseId:n});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),enrollCourse:function(){var t=Object(l.a)(o.a.mark((function t(n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.insertOne({_id:new p.b.ObjectID,_partition:e.currentUser.id,courseId:n,startDate:new Date});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),isEnrolled:function(t){return r.findIndex((function(n){return String(n.courseId)===String(t)&&n._partition==e.currentUser.id}))>=0},getUserEnrollments:function(){return r.filter((function(t){return t._partition===e.currentUser.id}))}}}function Be(){var e=z(),t=a.a.useState([]),n=Object(f.a)(t,2),r=n[0],c=n[1],i=a.a.useState(!0),s=Object(f.a)(i,2),u=s[0],d=s[1],j=K({cluster:A.d,db:"LearnlyLog",collection:"UserModules"});a.a.useEffect((function(){j.find({}).then((function(e){c(e),d(!1)}))}),[j]);return{loading:u,userModules:r,makeAttempt:function(){var t=Object(l.a)(o.a.mark((function t(n){var r;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j.findOne({_partition:e.currentUser.id,moduleId:n.moduleId});case 2:if(!((r=t.sent)&&n.score>=r.bestScore)){t.next=7;break}return t.abrupt("return",j.updateOne({_partition:e.currentUser.id,moduleId:n.moduleId},{bestScore:n.score,lastAttempt:new Date,_partition:e.currentUser.id,moduleId:n.moduleId}));case 7:return t.abrupt("return",j.insertOne({_id:new p.b.ObjectID,_partition:e.currentUser.id,moduleId:n.moduleId,bestScore:Math.round(n.score),lastAttempt:new Date}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getUserAttempts:function(){return r.filter((function(t){return t._partition===e.currentUser.id}))},getAttempt:function(t){return r.find((function(n){return n._partition===e.currentUser.id&&String(n.moduleId)===String(t)}))}}}var Me=n(954),Te=n(228),Re=function(e){var t,n,r;return Object(_.jsxs)(v.a,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[Object(_.jsx)(Ue.a,{avatar:Object(_.jsx)(Le.a,{style:{backgroundColor:(r=null===(t=e.attempt)||void 0===t?void 0:t.bestScore,r?r<=50?ie.a[200]:r<=75?Me.a[200]:re.a[200]:ae.a[200])},"aria-label":"attempt",children:Object(_.jsx)(y.a,{variant:"caption",display:"block",style:{color:Te.a[900]},children:e.attempt?"".concat(e.attempt.bestScore,"%"):"N/A"})}),title:e.module.name,subheader:e.attempt?"Last: ".concat(e.attempt.lastAttempt.toLocaleDateString()," ").concat(e.attempt.lastAttempt.toLocaleTimeString()):"Incomplete"}),Object(_.jsx)(je.a,{component:"img",height:"200",image:"https://source.unsplash.com/random/?".concat(null===(n=e.course)||void 0===n?void 0:n.name,",").concat(e.module.name),alt:"random"}),Object(_.jsx)(de.a,{sx:{flexGrow:1},children:Object(_.jsx)(y.a,{noWrap:!0,children:e.module.description})}),Object(_.jsxs)(he.a,{children:[Object(_.jsx)(R.b,{to:"/module/".concat(e.module._id),children:Object(_.jsx)(I.a,{size:"small",variant:"contained",color:"primary",children:"View"})}),Object(_.jsx)(R.b,{to:"/module-quiz/".concat(e.module._id),children:Object(_.jsxs)(I.a,{size:"small",variant:"contained",color:"primary",children:[e.attempt?"Retake":"Take"," Quiz"]})})]})]})};function qe(){var e=_e(),t=(e.modulesLoading,e.modules),n=e.loading,a=ze(),c=a.isEnrolled,i=a.enrollCourse,s=a.dropCourse,u=Be(),d=u.userModules,j=u.getAttempt,b=Se().courses,m=Object(r.useState)(null),h=Object(f.a)(m,2),x=h[0],O=h[1],p=Object(G.g)().id,v=function(){return!!x&&c(x._id)},w=function(){return t.filter((function(e){return String(e.courseId)===String(null===x||void 0===x?void 0:x._id)}))},S=function(){return w().filter((function(e){var t=j(e._id);return t&&t.bestScore>=75}))};Object(r.useEffect)((function(){var e=b.find((function(e){return String(e._id)==p}));O(e)}),[b,t,d]);var C=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v()){e.next=7;break}if(!window.confirm("Are you sure? You will lose all progress in this course including quiz scores, completion, and badges.")){e.next=5;break}return e.next=5,s(null===x||void 0===x?void 0:x._id);case 5:e.next=9;break;case 7:return e.next=9,i(null===x||void 0===x?void 0:x._id);case 9:window.location.reload();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(_.jsx)(De.a,{style:{marginTop:"10%"}})}):Object(_.jsxs)(g.a,{className:"main-container",maxWidth:"md",children:[Object(_.jsxs)(y.a,{variant:"h2",component:"div",children:[null===x||void 0===x?void 0:x.name,Object(_.jsx)(I.a,{onClick:C,className:"enrollment-btn",variant:"outlined",color:v()?"secondary":"primary",children:"".concat(v()?"Drop":"Enroll"," Course")})]}),Object(_.jsxs)("p",{children:["Objective: ",null===x||void 0===x?void 0:x.description]}),Object(_.jsx)("hr",{}),Object(_.jsx)(be.a,{container:!0,spacing:3,children:w().map((function(e,t){var n=j(e._id);if(!n||n.bestScore<75)return Object(_.jsx)(be.a,{item:!0,xs:12,sm:6,md:4,children:Object(_.jsx)(Re,{course:x,module:e,attempt:n})},t)}))}),Object(_.jsx)("div",{children:S().length>0?Object(_.jsxs)("div",{children:[Object(_.jsx)("hr",{}),Object(_.jsx)(y.a,{variant:"h5",component:"div",children:"Completed"}),Object(_.jsx)(be.a,{container:!0,spacing:3,children:S().map((function(e,t){return Object(_.jsx)(be.a,{item:!0,xs:12,sm:6,md:4,children:Object(_.jsx)(Re,{course:x,module:e,attempt:j(e._id)})},t)}))})]}):null})]})}var Pe=n(957),Qe=(n(529),function(e){var t=_e().modules,n=Be().getAttempt;return e.courses.map((function(r){var a=0;if(e.isEnrolled){var c=t.filter((function(e){return String(e.courseId)===String(r._id)})),i=c.map((function(e){return n(e._id)}));a=Math.round(i.filter((function(e){return e&&e.bestScore>=75})).length/c.length*100)}return isNaN(a)&&(a=0),Object(_.jsxs)(R.b,{to:"course-modules/".concat(r._id),className:"course-card",style:{textDecoration:"none"},children:[Object(_.jsx)(v.a,{style:{height:250,margin:5},sx:{maxWidth:250},children:Object(_.jsxs)(pe.a,{children:[Object(_.jsx)(je.a,{component:"img",height:"140",image:r.image,alt:"course image"}),Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{gutterBottom:!0,variant:"h5",component:"div",children:r.name}),e.isEnrolled?null:Object(_.jsx)(y.a,{noWrap:!0,variant:"body2",color:"text.secondary",children:r.description})]})]})}),e.isEnrolled?Object(_.jsxs)(me.a,{sx:{display:"flex"},style:{padding:5},children:[Object(_.jsx)(me.a,{sx:{width:"95%",mr:1},children:Object(_.jsx)($.a,{borderRadius:"5",variant:"determinate",value:a})}),Object(_.jsx)(me.a,{sx:{minWidth:35,maxWidth:250},children:Object(_.jsx)(y.a,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(a),"%")})})]}):null]})}))});function We(){var e=z(),t=Se(),n=t.courses,r=t.loading,a=ze().isEnrolled,c=function(){return n.filter((function(e){return a(e._id)}))};return r?Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(_.jsx)(De.a,{style:{marginTop:"10%"}})}):Object(_.jsxs)("div",{className:"page-content",children:[Object(_.jsx)("h2",{children:"My Courses"}),Object(_.jsx)("div",{className:"my-courses-content",children:c().length?Object(_.jsx)(Qe,{courses:c(),isEnrolled:!0}):Object(_.jsxs)("div",{style:{textAlign:"center",width:"100%"},children:[Object(_.jsx)(Ne.a,{variant:"outlined",color:"primary",label:Object(_.jsx)(y.a,{variant:"h5",component:"div",children:"Welcome, ".concat(e.currentUser.profile.email.split("@")[0],"!")})}),Object(_.jsx)(y.a,{variant:"subtitle1",gutterBottom:!0,component:"div",children:"We've listed some courses below that we think you might enjoy and take something meaningful from. Click one to view its required modules and enroll when you're ready!"})]})}),Object(_.jsxs)("div",{id:"all-courses-heading-content",children:[Object(_.jsx)("h2",{children:"All Courses"}),Object(_.jsx)(R.b,{to:"/all-courses",children:Object(_.jsx)("p",{style:{marginRight:20,cursor:"pointer"},children:Object(_.jsx)("b",{children:"MORE COURSES >"})})})]}),Object(_.jsx)("div",{className:"all-courses-content",children:Object(_.jsx)(Qe,{courses:n.filter((function(e){return!a(e._id)})).slice(0,7),isEnrolled:!1})}),Object(_.jsx)(R.b,{to:"/chat",children:Object(_.jsx)(Pe.a,{color:"primary",className:"chat-button",variant:"extended",children:Object(_.jsx)("b",{children:"+ JOIN CHAT"})})})]})}n(530);var Fe=[{InterestName:"Technology",InterestImage:"https://cdn-icons-png.flaticon.com/512/490/490498.png"},{InterestName:"UX/UI",InterestImage:"https://cdn-icons-png.flaticon.com/512/1055/1055666.png"},{InterestName:"Game Design",InterestImage:"https://cdn-icons-png.flaticon.com/512/141/141073.png"},{InterestName:"Music",InterestImage:"https://cdn-icons-png.flaticon.com/512/4472/4472592.png"},{InterestName:"Cooking",InterestImage:"https://cdn-icons-png.flaticon.com/512/1689/1689198.png"},{InterestName:"Web Development",InterestImage:"https://cdn-icons-png.flaticon.com/512/977/977597.png"},{InterestName:"Theatre",InterestImage:"https://cdn-icons-png.flaticon.com/512/1778/1778557.png"},{InterestName:"Fitness",InterestImage:"https://cdn-icons-png.flaticon.com/512/1719/1719714.png"}];function He(e){var t=e.name,n=e.image,a=e.add,c=e.remove,i=r.useState(!1),s=Object(f.a)(i,2),o=s[0],l=s[1];return Object(_.jsx)(be.a,{item:!0,xs:12,sm:4,md:3,children:Object(_.jsx)(v.a,{onClick:function(){o?(l(!1),c(t)):(l(!0),a(t))},style:{backgroundColor:o?ae.a[200]:"#F1F3F4"},variant:"outlined",children:Object(_.jsxs)(pe.a,{children:[Object(_.jsx)(je.a,{component:"img",height:"180",image:n}),Object(_.jsx)(de.a,{height:"50",children:Object(_.jsx)("p",{style:{textAlign:"center"},children:t})})]})})},e.name)}function Je(){var e=[];function t(t){e.push(t),console.log(e)}function n(t){e=e.filter((function(e){return e!==t})),console.log(e)}return Fe.map((function(e){return Object(_.jsx)(He,{name:e.InterestName,image:e.InterestImage,add:t,remove:n})}))}var Ye={borderRadius:50,padding:25,margin:30,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"};function Ge(){var e=Object(G.f)();return Object(_.jsx)(Pe.a,{className:"nextButton",size:"large",color:"primary",variant:"contained",style:Ye,onClick:function(){e("/")},children:"Next"})}function Ve(){return Object(_.jsxs)(g.a,{className:"main-container",maxWidth:"md",children:[Object(_.jsx)("div",{style:{textAlign:"center"},children:Object(_.jsx)(y.a,{variant:"h3",gutterBottom:!0,component:"div",children:"Choose your interests"})}),Object(_.jsx)(be.a,{container:!0,spacing:3,children:Object(_.jsx)(Je,{})}),Object(_.jsx)(Ge,{})]})}var Xe=n(321),$e=n.n(Xe),Ke=(n(898),n(472)),Ze=n.n(Ke);function et(){var e=ze().getUserEnrollments,t=Be().getUserAttempts,n=Se().getCourse,r=_e().getModule,a=e().map((function(e){if(e.completionDate){var t=n(e.courseId);return{title:"".concat(null===t||void 0===t?void 0:t.name," Course Completed"),start:e.completionDate,end:e.completionDate||new Date,allDay:!1,bgColor:"#ff7f50"}}})).concat(t().map((function(e){if(e.bestScore&&e.bestScore>=75){var t=r(e.moduleId);return{title:"".concat(null===t||void 0===t?void 0:t.name," Module Completed"),start:e.lastAttempt,end:e.lastAttempt,allDay:!1,bgColor:"#dc143c"}}})));return console.log(a),Object(_.jsx)($e.a,{events:a})}$e.a.momentLocalizer(Ze.a);n(899);var tt={borderRadius:50,padding:25,margin:30,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"};function nt(e){return Object(_.jsx)(R.b,{to:"/module-quiz/".concat(e.mId),children:Object(_.jsx)(Pe.a,{className:"takeQuizButton",size:"large",color:"primary",variant:"contained",style:tt,children:"Take Quiz"})})}function rt(){var e=Object(G.g)().id,t=_e().modules,n=r.useState(),a=Object(f.a)(n,2),c=a[0],i=a[1];return r.useEffect((function(){var n=t.find((function(t){return String(t._id)===e}));i(n)}),[t]),Object(_.jsxs)(g.a,{children:[Object(_.jsx)("div",{className:"modulePageHeadStyle",children:Object(_.jsx)("h1",{children:null===c||void 0===c?void 0:c.name})}),Object(_.jsx)("h3",{children:null===c||void 0===c?void 0:c.description}),Object(_.jsx)("p",{children:null===c||void 0===c?void 0:c.content}),Object(_.jsx)(nt,{mId:null===c||void 0===c?void 0:c._id})]})}n(900);var at=n(972),ct=n(958),it=n(967),st=(n(901),function(e){var t=Object(ee.a)({root:{color:"#default","&$checked":{color:"#3f51b5"}},checked:{}})((function(e){return Object(_.jsx)(it.a,Object(O.a)({color:"default"},e))}));return Object(_.jsx)(v.a,{className:"question-card",children:Object(_.jsxs)(de.a,{children:[Object(_.jsx)(y.a,{children:e.cardQuestion.prompt}),"mc"==e.cardQuestion.type?Object(_.jsx)(at.a,{onChange:e.radioChangeHandler,children:e.cardQuestion.options.map((function(e,n){return Object(_.jsx)(ct.a,{value:e,control:Object(_.jsx)(t,{}),label:e.replace("*","")},n)}))}):Object(_.jsx)(w.a,{id:"standard-basic",label:"Answer...",variant:"standard",onChange:e.radioChangeHandler})]})})});var ot=[],lt=function(e){return Object(_.jsx)("div",{className:"card-list",children:e.questions.map((function(e,t){return Object(_.jsx)(st,{cardNumber:t,cardQuestion:e,radioChangeHandler:function(e){return n=e,void(ot[t]=n.target.value);var n}},t)}))})};function ut(){var e=_e().modules,t=Object(G.g)().id,n=Object(G.f)(),c=Be().makeAttempt,i=function(){z();var e=a.a.useState([]),t=Object(f.a)(e,2),n=t[0],r=t[1],c=a.a.useState(!0),i=Object(f.a)(c,2),s=i[0],o=i[1],l=K({cluster:A.d,db:"LearnlyLog",collection:"QuizQuestion"});return a.a.useEffect((function(){l.find({}).then((function(e){r(e),o(!1)}))}),[l]),{loading:s,quizQuestions:n}}(),s=i.quizQuestions,u=i.loading,d=Object(r.useState)(),j=Object(f.a)(d,2),b=j[0],m=j[1],h=function(){return s.filter((function(e){return String(e.moduleId)===String(null===b||void 0===b?void 0:b._id)}))};Object(r.useEffect)((function(){var n=e.find((function(e){return String(e._id)===t}));m(n)}),[e,s]);var x=function(){var e=Object(l.a)(o.a.mark((function e(){var t,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h().reduce((function(e,t,n){return t.answer.toLowerCase()==(ot[n]||"").toLowerCase()?++e:e}),0),r=t/h().length*100,alert("You scored ".concat(Math.round(r),"%")),a={moduleId:b._id,score:r},e.prev=4,e.next=7,c(a);case 7:n("/course-modules/".concat(b.courseId)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(){return e.apply(this,arguments)}}();return u?Object(_.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(_.jsx)(De.a,{style:{marginTop:"10%"}})}):Object(_.jsxs)(g.a,{className:"quiz-container",children:[Object(_.jsxs)("h1",{children:[null===b||void 0===b?void 0:b.name," Quiz"]}),Object(_.jsx)("p",{children:"You must score 75% or higher to pass."}),Object(_.jsx)(lt,{questions:h()}),Object(_.jsx)(I.a,{onClick:x,className:"submit-button",variant:"contained",size:"large",color:"primary",children:"SUBMIT"})]})}n(902);function dt(){return Object(_.jsx)(ue,{children:Object(_.jsx)(D,{appId:A.a,children:Object(_.jsx)(jt,{})})})}function jt(){var e=z(),t=e.currentUser,n=e.logOut;return Object(_.jsxs)("div",{className:"App",children:[Object(_.jsx)(u.a,{position:"sticky",children:Object(_.jsxs)(d.a,{children:[Object(_.jsx)(q,{}),t?Object(_.jsxs)("div",{children:[Object(_.jsx)(R.b,{to:"/chat",children:Object(_.jsx)(j.a,{color:"secondary","aria-label":"delete",size:"large",children:Object(_.jsx)(b.a,{})})}),Object(_.jsx)(R.b,{to:"/learning-log",children:Object(_.jsx)(j.a,{color:"secondary","aria-label":"delete",size:"large",children:Object(_.jsx)(m.a,{})})}),Object(_.jsx)(R.b,{to:"/account",children:Object(_.jsx)(j.a,{color:"secondary","aria-label":"delete",size:"large",children:Object(_.jsx)(h.a,{})})}),Object(_.jsx)(j.a,{variant:"contained",color:"secondary",onClick:Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:window.location.assign("/");case 3:case"end":return e.stop()}}),e)}))),children:Object(_.jsx)(x.a,{})})]}):null]})}),t?Object(_.jsxs)(G.c,{children:[Object(_.jsx)(G.a,{path:"/",element:Object(_.jsx)(We,{})}),Object(_.jsx)(G.a,{path:"/course-modules/:id",element:Object(_.jsx)(qe,{})}),Object(_.jsx)(G.a,{path:"/account",element:Object(_.jsx)(fe,{})}),Object(_.jsx)(G.a,{path:"/all-courses",element:Object(_.jsx)(Ce,{})}),Object(_.jsx)(G.a,{path:"/chat",element:Object(_.jsx)(Ae,{})}),Object(_.jsx)(G.a,{path:"/interests",element:Object(_.jsx)(Ve,{})}),Object(_.jsx)(G.a,{path:"/learning-log",element:Object(_.jsx)(et,{})}),Object(_.jsx)(G.a,{path:"/module/:id",element:Object(_.jsx)(rt,{})}),Object(_.jsx)(G.a,{path:"/module-quiz/:id",element:Object(_.jsx)(ut,{})})]}):Object(_.jsx)(V,{})]})}var bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,973)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(R.a,{children:Object(_.jsx)(dt,{})})}),document.getElementById("root")),bt()}},[[903,1,2]]]);
//# sourceMappingURL=main.920a7759.chunk.js.map